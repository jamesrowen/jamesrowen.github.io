---
layout: default
title: "project: vrony"
navlinks:
  - name: vrony
    id: vrony
  - name: background
    id: background
  - name: notes
    id: notes
  - name: references
    id: references
---
<div class="page-section" id="vrony">
	<h2 class="underline">vrony</h2>
	<div class="section-body largetext">
		<img class="section-header" src="img/vrony1.png" />
		<p>
			Vrony is a program written in <a href="https://processing.org">Processing</a> for exploring
      animated Voronoi diagrams. It contains a control panel with a number of ways to manipulate
      the animation.
		</p>
		<p>
			One interesting feature is the sequencer, inspired by the music-making software
      <a href="https://www.ableton.com/en/live/">Ableton Live</a>.
			This allows the user to "automate" the parameters of the animation over time, to create complex
      long-running animations. The sequencer is designed such that it could be used with any
      Processing sketch. In the future it could be developed into a standalone library.
		</p>
    <p>
      To run the sketch and view the code, visit the project
      <a href="https://github.com/jamesrowen/vrony">on Github</a>.
    </p>
	</div>
</div>

<div class="page-section" id="background">
	<h2 class="underline">background</h2>
	<div class="section-body largetext">
		<p>
			A Voronoi diagram is created by taking a set of points and calculating the region of space
      closest to each point, creating a tesselation of polygons. I figured this would be a good
      candidate for creating interesting animations due to its simplicity and ease of manipulation.
		</p>
		<p>
			Normally I would use the JavaScript port of Processing (<a href="https://p5js.org">p5.js</a>)
      for an in-browser experience, but for best performance with a large number of regions I opted
      to go with the Java-based original. This unfortunately makes it more difficult for people to
      try out.
		</p>
		<p>
			I briefly researched the the various algorithms for generating the diagrams
      (<a href="https://en.wikipedia.org/wiki/Fortune%27s_algorithm">Fortune's algorithm</a>
			is an interesting one), but luckily I was able to find the
			<a href="https://leebyron.com/mesh/">Mesh</a> Processing library by
      <a href="https://leebyron.com/">Lee Byron</a>,
			which based on the O(n log(n))
      <a href="https://www.cs.ubc.ca/~lloyd/java/quickhull3d.html">QuickHull3D</a> Java implementation
      by <a href="https://www.cs.ubc.ca/~lloyd/index.html">John Lloyd</a>.
		</p>
		<p>
			I also found an interesting <a href="https://cs.uwaterloo.ca/~csk/publications/Papers/kaplan_1999.pdf">paper</a>
      from <a href="https://cs.uwaterloo.ca/~csk/">Craig S. Kaplan</a> at the University of Waterloo,
      exploring this concept as early as 1999. One of the modes in vrony was inspired by a description
      from this paper.
		</p>
	</div>
</div>

<div class="page-section" id="notes">
	<h2 class="underline">notes</h2>
	<div class="section-body largetext">
		<p>
			The <b>mode</b> determines how the control points are arranged, how they move during the
      course of the animation, and which parameters affect their movement. Currently there are two
      modes, each with enough depth to create a wide range of effects, but there are many still to
      be explored.
		</p>
		<ul>
			<li>
				In <b>mode 0</b>, the points are arranged in concentric circles, which can rotate in sync
        or in alternating directions. The circles can be "perturbed" or moved off-center, creating an
        off-kilter effect.
			</li>
			<li>
				In <b>mode 1</b>, the points form a circle of rings, with an additional "wheel"
        passing through the center of the rings. As the radius of the rings grows, they overlap and
        form complex interlocking shapes.
			</li>
		</ul>
		<p>
			The <b>color mode</b>, along with <b>num colors</b>, determines the pattern for coloring the
      polygons. Simply changing these settings can significantly change the output, highlighting
      different substructures within the overall shape.
		</p>
		<ul>
			<li>
				In <b>color mode 0</b>, all polygons are colored, rotating through a palette of colors.
			</li>
			<li>
				In <b>color mode 1</b>, each ring is a solid color, alternating ring by ring between the
        palette colors and black.
			</li>
			<li>
				In <b>color mode 2</b>, each ring uses one palette color, with each segment of the ring
        alternating between that color and black.
			</li>
		</ul>
		<img class="smaller captioned" src="img/vrony2.png" />
		<p class="caption">
			The same scene drawn in three different color modes.
		</p>
		<p>
			The sequencer is a proof-of-concept that needs some more work to be truly functional. Future
      enhancements might include:
		</p>
		<ul>
			<li>Saving and loading of sequence files.</li>
			<li>Scrollable list of sequence parameters.</li>
			<li>Adjusting the length of the sequence.</li>
			<li>A multi-shape LFO that could be added to any parameter.</li>
			<li>Video export.</li>
		</ul>
	</div>
</div>

<div class="page-section" id="references">
	<h2 class="underline">references</h2>
	<div class="section-body largetext">
		<ul>
			<li>
        <a href="https://en.wikipedia.org/wiki/Voronoi_diagram">Voronoi diagrams on Wikipedia</a>
      </li>
			<li>
        <a href="https://cs.uwaterloo.ca/~csk/publications/Papers/kaplan_1999.pdf">
          Voronoi Diagrams and Ornamental Design - Craig S. Kaplan
        </a>
      </li>
			<li>
        <a href="https://leebyron.com/mesh/">Mesh Processing Library - Lee Byron</a>
      </li>
			<li>
        <a href="http://www.raymondhill.net/voronoi/rhill-voronoi.html">
          Implementation of Fortune's Algorithm - Raymond Hill
        </a>
      </li>
		</ul>
	</div>
</div>
